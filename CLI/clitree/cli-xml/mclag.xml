<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE CLISH_MODULE [
<!ENTITY START_PORT_ID "1">
<!ENTITY MAX_PORT_ID "32">
<!ENTITY START_SUB_PORT_ID "1">
<!ENTITY MAX_SUB_PORT_ID "4">
<!ENTITY MAX_MTU "9216">
]>
<CLISH_MODULE xmlns="http://www.dellemc.com/sonic/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xi="http://www.w3.org/2001/XInclude" xsi:schemaLocation="http://www.dellemc.com/sonic/XMLSchema http://www.dellemc.com/sonic/XMLSchema/clish.xsd">
  <!--MODE : config terminal -->
  <VIEW name="configure-view">
    <COMMAND name="mclag" help="domain"> </COMMAND>
    <COMMAND name="mclag domain" help="Enter MCLAG Domain configuration mode" view="configure-mclag-view" viewid="id=${mclag-domain-id}">
      <PARAM name="mclag-domain-id" help="Domain Id" ptype="RANGE_1_4095"> </PARAM>
	  <ACTION builtin="clish_pyobj">sonic_cli_mclag patch_list_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list ${mclag-domain-id} </ACTION>
    </COMMAND>
    <COMMAND name="no mclag" help="domain"> </COMMAND>
    <COMMAND name="no mclag domain" help="Remove MCLAG Domain">
      <PARAM name="mclag-domain-id" help="Domain Id" ptype="RANGE_1_4095"> </PARAM>
	  <ACTION builtin="clish_pyobj">sonic_cli_mclag delete_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list ${mclag-domain-id} </ACTION>
     <DOCGEN>
        <DESCRIPTION>
          Adds Gateway Mac for MCLAG.
        </DESCRIPTION>
     </DOCGEN>
    </COMMAND>

    <COMMAND
           name="mclag gateway-mac"
           help="Configure gw mac for router ports over MCLAG" >
           <PARAM name="gw_mac" help="MCLAG Gateway MAC Address" ptype="MAC_ADDR"> </PARAM>
           <ACTION builtin="clish_pyobj">sonic_cli_mclag patch_sonic_mclag_gw_mac_list ${gw_mac} </ACTION>
     <DOCGEN>
        <DESCRIPTION>
          Delete Gateway Mac for MCLAG.
        </DESCRIPTION>
     </DOCGEN>

    </COMMAND>
    <COMMAND
           name="no mclag gateway-mac"
           help="Unconfigure gw mac for router ports over MCLAG" >
           <PARAM name="gw_mac" help="MCLAG Gateway MAC Address" ptype="MAC_ADDR"> </PARAM>
           <ACTION builtin="clish_pyobj">sonic_cli_mclag delete_sonic_mclag_gw_mac_list ${gw_mac} </ACTION>
    </COMMAND>

  </VIEW>
  <!--MODE : mclag domain view -->
  <VIEW name="configure-mclag-view" prompt="${SYSTEM_NAME}(config-mclag-domain-${id})# " depth="2">
    <!-- Inheritance -->
    <NAMESPACE ref="configure-view" help="false" completion="false"/>
    <!-- show configuration -->
    <COMMAND name="show configuration" help="Current configuration">
      <ACTION builtin="clish_nop"> </ACTION>
      <xi:include href="include/pipe.xml"/>
    </COMMAND>
    <COMMAND name="no" help="Negate a command or set its defaults">
      <ACTION builtin="clish_nop"> </ACTION>
    </COMMAND>
    <COMMAND name="source-ip" help="Set mclag source IPv4 address">
      <PARAM name="SIP" help="Source IPv4 address" ptype="IP_ADDR"> </PARAM>
      <ACTION builtin="clish_pyobj">sonic_cli_mclag patch_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_source_ip ${id} ${SIP} </ACTION>
    </COMMAND>
    <COMMAND name="no source-ip" help="unset source IPV4 address">
      <ACTION builtin="clish_pyobj">sonic_cli_mclag delete_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_source_ip ${id} </ACTION>
    </COMMAND>
    <COMMAND name="peer-ip" help="Set mclag Peer IPv4 address">
      <PARAM name="PIP" help="MCLAG Peer IPv4 address" ptype="IP_ADDR"> </PARAM>
      <ACTION builtin="clish_pyobj">sonic_cli_mclag patch_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_peer_ip ${id} ${PIP} </ACTION>
    </COMMAND>
    <COMMAND name="no peer-ip" help="unset Peer IPV4 Address">
      <ACTION builtin="clish_pyobj">sonic_cli_mclag delete_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_peer_ip ${id} </ACTION>
    </COMMAND>
    <COMMAND name="peer-link" help="Set mclag Peer Interface">
      <PARAM name="if-subcommands" help="Interface subcommands" mode="switch" ptype="SUBCOMMAND">
        <PARAM name="Ethernet" help="Ethernet IEEE 802.3" ptype="SUBCOMMAND" mode="subcommand">
          <PARAM name="PLK" help="Physical interface" ptype="UINT"> </PARAM>
        </PARAM>
        <PARAM name="PortChannel" help="Port-channel ID" ptype="SUBCOMMAND" mode="subcommand">
          <PARAM name="PLK" help="Port-channel id" ptype="LAG_ID"> </PARAM>
        </PARAM>
      </PARAM>
      <ACTION builtin="clish_pyobj">sonic_cli_mclag patch_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_peer_link ${id} ${PLK} ${if-subcommands} </ACTION>
    </COMMAND>
    <COMMAND name="no peer-link" help="unset mclag Interface">
      <ACTION builtin="clish_pyobj">sonic_cli_mclag delete_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_peer_link ${id} </ACTION>
    </COMMAND>
    <COMMAND name="keepalive-interval" help="Set mclag Session Keepalive interaval in secs">
      <PARAM name="KA" help="MCLAG Session Keepalive Interval" ptype="MCLAG_KA_INTERVAL_RANGE"> </PARAM>
      <ACTION builtin="clish_pyobj">sonic_cli_mclag patch_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_keepalive_interval ${id} ${KA} </ACTION>
    </COMMAND>
    <COMMAND name="no keepalive-interval" help="unset mclag keepalive interval">
      <ACTION builtin="clish_nop"/>
      <ACTION builtin="clish_pyobj">sonic_cli_mclag delete_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_keepalive_interval ${id} </ACTION>
    </COMMAND>
    <COMMAND name="session-timeout" help="Set mclag Session Timeout in secs">
      <PARAM name="ST" help="MCLAG Session Timeout value in secs" ptype="MCLAG_SESSION_TIMEOUT_RANGE"> </PARAM>
      <ACTION builtin="clish_pyobj">sonic_cli_mclag patch_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_session_timeout ${id} ${ST} </ACTION>
    </COMMAND>
    <COMMAND name="no session-timeout" help="unset mclag Session Timeout">
      <ACTION builtin="clish_pyobj">sonic_cli_mclag delete_sonic_mclag_sonic_mclag_mclag_domain_mclag_domain_list_session_timeout ${id} </ACTION>
    </COMMAND>
  </VIEW>

  <!--MODE : show commands view -->
  <VIEW name="enable-view">
    <!--show mclag brief -->
    <COMMAND name="show mclag" help="Show mclag domain"> </COMMAND>
    <COMMAND name="show mclag brief" help="Show mclag domain/interface information"> 
      <ACTION builtin="clish_pyobj">sonic_cli_mclag show_mclag_brief show_mclag_brief.j2  </ACTION>
    </COMMAND>

    <!--show mclag interface -->
    <COMMAND name="show mclag interface" help="Show mclag interface information">
      <PARAM name="ifid" help="Enter mclag interface Portchannel Id without prefix" ptype="LAG_ID"> 
        <PARAM name="domain_id" help="Enter domain id" ptype="RANGE_1_4095"> </PARAM>
      </PARAM>
      <ACTION builtin="clish_pyobj">sonic_cli_mclag show_mclag_interface show_mclag_iface.j2 PortChannel${ifid} ${domain_id} </ACTION>
    </COMMAND>

    <!--show mclag separate_ip interfaces -->
    <COMMAND name="show mclag separate_ip_interfaces" help="Show mclag separate IP interface information">
      <ACTION builtin="clish_pyobj">sonic_cli_mclag show_mclag_separate_ip show_mclag_separate_ip.j2  </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Show command to display Vlan interfaces on which MCLAG separate IP is configured.
          </DESCRIPTION>
          <USAGE>
              sonic-cli# show mclag separate_ip_interfaces
          </USAGE>
          <EXAMPLE summary="show mclag separate_ip_interfaces">
              sonic-cli# show mclag separate_ip_interfaces

              Interface Name
              ===================
              Vlan10
              ===================
              Total count : 1
              ===================
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>
  </VIEW>

</CLISH_MODULE>
