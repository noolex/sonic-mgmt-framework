<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright 2020 Dell, Inc.  

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--> 

<CLISH_MODULE
    xmlns="http://www.dellemc.com/sonic/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xsi:schemaLocation="http://www.dellemc.com/sonic/XMLSchema
                        http://www.dellemc.com/sonic/XMLSchema/clish.xsd"
    >
<!--=======================================================-->

    
<VIEW name="configure-view">
    <COMMAND
         name="ip route"
         help="Specify static route" ptype="SUBCOMMAND" mode="subcommand" command_keys="vrf_name=default,prefix_v=*" 
         command_tables="sonic-static-route:sonic-static-route/STATIC_ROUTE/STATIC_ROUTE_LIST/vrf-name={vrf_name},prefix={prefix_v}" 
         render_command_cb="static_routes_entry"
         render_command_viewid="renderCfg_iprte"
         >
         <MACRO name="STATIC-ROUTE-CFG"  arg=""/>

    <ACTION builtin="clish_pyobj"> sonic-cli-static-route patch_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop default ${__params} ipv4</ACTION>
    </COMMAND>
 
    <COMMAND
         name="ip route vrf"
         help="Configure IP Route for a VRF instance" ptype="SUBCOMMAND" mode="subcommand" command_keys="vrf_name=Vrf*,prefix_v=*" 
         command_tables="sonic-static-route:sonic-static-route/STATIC_ROUTE/STATIC_ROUTE_LIST/vrf-name={vrf_name},prefix={prefix_v}" 
         render_command_cb="static_routes_entry"
         render_command_viewid="renderCfg_iprte"
         >
         <PARAM name="vrfname" help="VRF name" ptype="VRF_NAME">
              <MACRO name="STATIC-ROUTE-CFG"  arg=""/>
         </PARAM>
    <ACTION builtin="clish_pyobj"> sonic-cli-static-route patch_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop ${__params} ipv4
    </ACTION>
    </COMMAND>

    <COMMAND
         name="ip route vrf mgmt"
         help="Configure IP Route for Management VRF" ptype="SUBCOMMAND" mode="subcommand" command_keys="vrf_name=mgmt,prefix_v=*"
         command_tables="sonic-static-route:sonic-static-route/STATIC_ROUTE/STATIC_ROUTE_LIST/vrf-name={vrf_name},prefix={prefix_v}"
         render_command_cb="static_routes_entry"
         >
         <MACRO name="STATIC-ROUTE-CFG"  arg=""/>
    <ACTION builtin="clish_pyobj"> sonic-cli-static-route patch_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop mgmt ${__params} ipv4
    </ACTION>
    </COMMAND>

    <COMMAND
         name="ipv6 route"
         help="Specify static route" ptype="SUBCOMMAND" mode="subcommand" command_keys="vrf_name=default,prefix_v=*" 
         command_tables="sonic-static-route:sonic-static-route/STATIC_ROUTE/STATIC_ROUTE_LIST/vrf-name={vrf_name},prefix={prefix_v}" 
         render_command_cb="static_routes_v6entry"
         render_command_viewid="renderCfg_iprte"
         >
         <MACRO name="STATIC-ROUTE-CFG"  arg="V6"/>

    <ACTION builtin="clish_pyobj"> sonic-cli-static-route patch_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop default ${__params} ipv6</ACTION>
    </COMMAND>

    <COMMAND
         name="ipv6 route vrf"
         help="Configure IP Route for a VRF instance" ptype="SUBCOMMAND" mode="subcommand" command_keys="vrf_name=Vrf*,prefix_v=*" 
         command_tables="sonic-static-route:sonic-static-route/STATIC_ROUTE/STATIC_ROUTE_LIST/vrf-name={vrf_name},prefix={prefix_v}" 
         render_command_cb="static_routes_v6entry"
         render_command_viewid="renderCfg_iprte"
         >
         <PARAM name="vrfname" help="VRF name" ptype="VRF_NAME">
              <MACRO name="STATIC-ROUTE-CFG"  arg="V6"/>
         </PARAM>
    <ACTION builtin="clish_pyobj"> sonic-cli-static-route patch_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop ${__params} ipv6
    </ACTION>
    </COMMAND>
   
    <COMMAND
         name="ipv6 route vrf mgmt"
         help="Configure IP Route for Management VRF" ptype="SUBCOMMAND" mode="subcommand" command_keys="vrf_name=mgmt,prefix_v=*"
         command_tables="sonic-static-route:sonic-static-route/STATIC_ROUTE/STATIC_ROUTE_LIST/vrf-name={vrf_name},prefix={prefix_v}"
         render_command_cb="static_routes_v6entry"
         >
         <MACRO name="STATIC-ROUTE-CFG"  arg="V6"/>
    <ACTION builtin="clish_pyobj"> sonic-cli-static-route patch_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop mgmt ${__params} ipv6
    </ACTION>
    </COMMAND> 
   

    <COMMAND
         name="no ip route"
         help="Delete static route"
         >
         <MACRO name="STATIC-ROUTE-DEL" arg=""/>

    <ACTION builtin="clish_pyobj"> sonic-cli-static-route delete_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop default ${__params} ipv4</ACTION>
    </COMMAND>

    <COMMAND
         name="no ipv6 route"
         help="Delete static route"
         >
         <MACRO name="STATIC-ROUTE-DEL" arg="V6"/>

    <ACTION builtin="clish_pyobj"> sonic-cli-static-route delete_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop default ${__params} ipv6</ACTION>
    </COMMAND>

    <COMMAND
         name="no ip route vrf"
         help="Delete IP Route for a VRF instance"
         >
         <PARAM name="vrfname" help="VRF name" ptype="VRF_NAME">
              <MACRO name="STATIC-ROUTE-DEL" arg=""/>
         </PARAM>
    <ACTION builtin="clish_pyobj"> sonic-cli-static-route delete_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop ${__params} ipv4
    </ACTION>
    </COMMAND>

    <COMMAND
         name="no ip route vrf mgmt"
         help="Delete IP Route for Management VRF"
         >
         <MACRO name="STATIC-ROUTE-DEL" arg=""/>
    <ACTION builtin="clish_pyobj"> sonic-cli-static-route delete_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop mgmt ${__params} ipv4
    </ACTION>
    </COMMAND>
    
    <COMMAND
         name="no ipv6 route vrf"
         help="Delete IP Route for a VRF instance"
         >
         <PARAM name="vrfname" help="VRF name" ptype="VRF_NAME">
              <MACRO name="STATIC-ROUTE-DEL" arg="V6"/>
         </PARAM>
    <ACTION builtin="clish_pyobj"> sonic-cli-static-route delete_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop ${__params} ipv6
    </ACTION>

    </COMMAND>

    <COMMAND
         name="no ipv6 route vrf mgmt"
         help="Delete IP Route for Management VRF"
         >
         <MACRO name="STATIC-ROUTE-DEL" arg="V6"/>
    <ACTION builtin="clish_pyobj"> sonic-cli-static-route delete_openconfig_network_instance_network_instances_network_instance_protocols_protocol_static_routes_static_next_hops_next_hop mgmt ${__params} ipv6
    </ACTION>

    </COMMAND>

</VIEW>
</CLISH_MODULE>

