<?xml version="1.0" encoding="UTF-8"?>

<!--
Copyright 2019 Dell, Inc.  

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--> 

<CLISH_MODULE
    xmlns="http://www.dellemc.com/sonic/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xsi:schemaLocation="http://www.dellemc.com/sonic/XMLSchema
                        http://www.dellemc.com/sonic/XMLSchema/clish.xsd"
    >
<!--=========================================================================-->

<PTYPE
     name="STP_FORWARD_DELAY"
     method="integer"
     pattern="4..30"
     help=""
     />
 <!--=======================================================-->
 <PTYPE
      name="STP_HELLO_TIME"
      method="integer"
      pattern="1..10"
      help=""
      />
  <!--=======================================================-->
  <PTYPE
       name="STP_MAX_AGE"
       method="integer"
       pattern="6..40"
       help=""
       />
   <!--=======================================================-->
   <PTYPE
        name="STP_PRIORITY"
        method="integer"
        pattern="0..61440"
        help=""
        />
    <!--=======================================================-->
    <PTYPE
         name="STP_FORCE_VERSION"
         method="integer"
         pattern="( [0] | [2])"
         help="range is 4 to 30 seconds"
         />
     <!--=======================================================-->
     <PTYPE
          name="STP_COST"
          method="integer"
          pattern="1..200000000"
          help=""
          />
      <!--=======================================================-->
      <PTYPE
           name="STP_PORT_PRIORITY"
           method="integer"
           pattern="0..240"
           help=""
           />
       <!--=======================================================-->
      <PTYPE
           name="STP_VLAN_ID"
           method="integer"
           pattern="1..4094"
           help="VLAN ID"
           />
       <!--=======================================================-->
      <PTYPE
           name="STP_GUARD_ROOT_TIMEOUT"
           method="integer"
           pattern="5..600"
           help="timeout in seconds"
           />
       <!--=======================================================-->

<VIEW name="enable-view">
    <COMMAND
        name="show spanning-tree"
        help="Show spanning tree information"
        >
        <PARAM
            name="vlan"
            help="Spanning tree information for VLAN"
            ptype="SUBCOMMAND"
            mode="subcommand"
            optional="true"
        >
        <PARAM
            name="vlan-id"
            help=""
            ptype="STP_VLAN_ID"
            >
            <PARAM
                name="interface"
                help="interface"
                ptype="SUBCOMMAND" mode="subcommand" optional="true"
                >
                <PARAM
                    name="name"
                    help="VLAN member interface name (max 15 characters)"
                    ptype="STRING"
                >
                </PARAM>
            </PARAM>
        </PARAM>
    </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp process_stp_show show_stp.j2 ${vlan-id} ${name} 
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Shows spanning-tree information
        </DESCRIPTION>
        <USAGE>
            This command is useful in viewing the spanning-tree information
        </USAGE>
        <EXAMPLE summary="Shows spanning-tree">
            Spanning-tree Mode: PVST
             
            VLAN 100 - STP instance 0
            ------------------------------------------------------------------------------------------------------------ 
            STP Bridge Parameters:
             
            Bridge            Bridge    Bridge    Bridge    Hold  LastTopology  Topology  
            Identifier        MaxAge    Hello     FwdDly    Time  Change        Change    
            hex               sec       sec       sec       sec   sec           cnt       
            80643c2c99a704a0  20        2         15        1     515           4         
             
            RootBridge        RootPath  DesignatedBridge  Root        Max  Hel  Fwd  
            Identifier        Cost      Identifier        Port        Age  lo   Dly  
            hex                         hex                           sec  sec  sec  
            00646cb9c51613ca  1600      10643c2c992d8235  PortChannel120   2    15   
             
            STP Port Parameters:
            Port            Prio Path      Port Uplink BPDU   State      Designated Designated       Designated       
            Num             rity Cost      Fast Fast   Filter            Cost       Root             bridge           
            PortChannel1    128  800       N    N      N      FORWARDING 800        00646cb9c51613ca 10643c2c992d8235 
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="show spanning-tree counters"
        help="Show spanning tree counters information"
        >
        <PARAM
            name="vlan"
            help="Spanning tree counters for a VLAN"
            ptype="SUBCOMMAND"
            mode="subcommand"
            optional="true"
            >
            <PARAM
                name="vlan-id"
                help=""
                ptype="STP_VLAN_ID"
                >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp process_stp_show_counters show_stp_counters.j2 ${vlan-id}
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Shows spanning-tree counters information
        </DESCRIPTION>
        <USAGE>
            This command is useful in viewing the spanning-tree counters information
        </USAGE>
        <EXAMPLE summary="Shows spanning-tree counters">
            sonic(config)# do show spanning-tree counters
             
            VLAN 100 - STP instance 0
            ----------------------------------------------------------------------
            PortNum         BPDU Tx   BPDU Rx   TCN Tx    TCN Rx    
                                                                    
            ----------------------------------------------------------------------
            Ethernet0       0         0         0         0         
            Ethernet48      53        7         1         0         
            Ethernet62      0         0         0         0         
            Ethernet64      0         0         0         0         
            PortChannel1    0         76        1         0         
            PortChannel2    0         0         0         0         
            PortChannel3    0         0         0         0         
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="show spanning-tree inconsistentports"
        help="Show spanning tree ROOT guard information"
        >
        <PARAM
            name="vlan"
            help="Spanning ROOT guard information for VLAN"
            ptype="SUBCOMMAND"
            mode="subcommand"
            optional="true"
            >
            <PARAM
                name="vlan-id"
                help=""
                ptype="STP_VLAN_ID"
                >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp process_stp_show_inconsistentports show_stp_root_guard.j2 ${vlan-id}
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Shows spanning-tree root inconsistent information
        </DESCRIPTION>
        <USAGE>
            This command is useful in viewing the spanning-tree root inconsistent ports information
        </USAGE>
        <EXAMPLE summary="Shows spanning-tree inconsistentports">
            sonic# show spanning-tree inconsistentports 
             
            Root guard timeout: 30  secs
             
            ----------------------------------------------------------------------
            PortNum          VLAN  Inconsistency State                          
            ----------------------------------------------------------------------
            Ethernet48       100   Root Inconsistent (29 seconds left on timer)
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="show spanning-tree bpdu-guard"
        help="Show spanning tree BPDU guard information"
        >
    <ACTION builtin="clish_pyobj">
     sonic_cli_stp get_openconfig_spanning_tree_stp_interfaces show_stp_bpdu_guard.j2
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Shows spanning-tree BPDU guard information
        </DESCRIPTION>
        <USAGE>
            This command is useful in viewing the spanning-tree BPDU guard information for the ports
        </USAGE>
        <EXAMPLE summary="Shows spanning-tree bpdu-guard">
            sonic#show spanning-tree bpdu-guard 
            PortNum         Shutdown    Port shut          
                            Configured  due to BPDU guard  
            Ethernet64       Y           N                  
            PortChannel2     Y           N                  
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

</VIEW>

<!-- Config mode -->
<VIEW name="configure-view">
    <COMMAND
        name="spanning-tree"
        help="Configure spanning tree"
        >
    </COMMAND>

    <COMMAND
        name="spanning-tree edge-port"
        help="Configure spanning tree edge port"
        >
        <PARAM
            name="bpdufilter"
            help="BPDU Filter"
            ptype="SUBCOMMAND"
            mode="subcommand"
            >
            <PARAM
                name="default"
                help="Default enable"
                ptype="SUBCOMMAND"
                mode="subcommand"
            >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp patch_openconfig_spanning_tree_stp_global_config_bpdu_filter True&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure spanning-tree global level BPDU filter
        </DESCRIPTION>
        <USAGE>
            This command allows configuring global level BPDU filter
        </USAGE>
        <EXAMPLE>
            sonic(config)# spanning-tree edge-port bpdufilter default
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree mode"
        help="Configure spanning tree mode {pvst | rapid-pvst}"
        >
        <PARAM
            name="mode-subcmds"
            help="spannig tree subcommands"
            ptype="SUBCOMMAND"
            mode="switch"
            optional="true"
            >
            <PARAM
                name="pvst"
                help="Enable PVST+ (based on IEEE 802.1D)"
                ptype="SUBCOMMAND"
                mode="subcommand"
                optional="true"
            >
            </PARAM>
            <PARAM
                name="rapid-pvst"
                help="Enable rapid PVST+ (based on IEEE 802.1w)"
                ptype="SUBCOMMAND"
                mode="subcommand"
                optional="true"
                >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp post_openconfig_spanning_tree_stp_global_config_enabled_protocol ${__params}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure the global spanning-tree mode for the device
        </DESCRIPTION>
        <USAGE>
            This command allows configuring the spanning-tree mode for the device. There are 2 modes supported - pvst and rapid-pvst.
        </USAGE>
        <EXAMPLE>
            sonic(config)#spanning-tree mode pvst
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree vlan"
        help="Configure spanning tree for VLAN"
        >
        <PARAM
            name="vlan-range"
            help=""
            ptype="STP_VLAN_ID"
            >
        </PARAM>
        <PARAM
            name="stp-vlan-subcmds"
            help="spannig tree subcommands"
            ptype="SUBCOMMAND"
            mode="switch"
            optional="true"
            >
            <PARAM
                name="forward-time"
                help="Set the forward delay time for the spanning tree"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="seconds"
                    help="Number of seconds for the forward time ((default = 15)"
                    ptype="STP_FORWARD_DELAY"
                    >
                </PARAM>
            </PARAM>
            <PARAM
                name="hello-time"
                help="Set the hello time for the spanning tree"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="seconds"
                    help="Number of seconds for the hello time (default = 2)"
                    ptype="STP_HELLO_TIME"
                    >
                </PARAM>
            </PARAM>

            <PARAM
                name="max-age"
                help="Set the max age time for the spanning tree"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="seconds"
                    help="Number of seconds for the max age time (default = 20)"
                    ptype="STP_MAX_AGE"
                    >
                </PARAM>
            </PARAM>
            <PARAM
                name="priority"
                help="Set the bridge priority for the spanning tree"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="value"
                    help="priority in the increments of 4096 (default = 32768)"
                    ptype="STP_PRIORITY"
                    >
                </PARAM>
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp config_stp_vlan_subcmds ${stp-vlan-subcmds} ${vlan-range} ${seconds} ${value}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure spanning-tree parameters on per VLAN basis
        </DESCRIPTION>
        <USAGE>
            These commands are similar to the global level commands but allow configuring the spanning-tree parameters on per VLAN basis.
        </USAGE>
        <EXAMPLE>
            sonic(config)#spanning-tree vlan 100  
            sonic(config)#spanning-tree vlan 100 forward-time 11
            sonic(config)#spanning-tree vlan 100 hello-time 3
            sonic(config)#spanning-tree vlan 100 max-age 22 
            sonic(config)#spanning-tree vlan 100 priority 4096 
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree forward-time"
        help="Set the forward delay time for the spanning tree"
        ptype="SUBCOMMAND"
        mode="subcommand"
        >
        <PARAM
            name="seconds"
            help="Number of seconds for the forward time ((default = 15)"
            ptype="STP_FORWARD_DELAY"
            >
        </PARAM>
    <ACTION builtin="clish_pyobj"> sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_global_config_forwarding_delay ${seconds}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure the spanning-tree forward delay time.
        </DESCRIPTION>
        <USAGE>
            This command allows configuring the forward delay time in seconds (default = 15), range 4-30.
        </USAGE>
        <EXAMPLE>
            sonic(config)# spanning-tree forward-time 20
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree guard"
        help="Set the spanning tree guard"
        ptype="SUBCOMMAND" mode="subcommand"
        >
        <PARAM
            name="root"
            help="root guard"
            ptype="SUBCOMMAND" mode="subcommand"
            >
            <PARAM
                name="timeout"
                help="root guard timeout"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="value"
                    help="root guard timeout value in seconds"
                    ptype="STP_GUARD_ROOT_TIMEOUT"
                >
                </PARAM>
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj"> sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_global_config_rootguard_timeout ${value}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure the spanning-tree root guard timeout.
        </DESCRIPTION>
        <USAGE>
            This command allows configuring a root guard timeout value. Once superior BPDUs stop coming on the port, device will wait for a period until root guard timeout before moving the port to forwarding state(default = 30 secs), range 5-600.
        </USAGE>
        <EXAMPLE>
            sonic(config)# spanning-tree guard root timeout 10
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree hello-time"
        help="Set the hello time for the spanning tree"
        ptype="SUBCOMMAND"
        mode="subcommand"
        >
        <PARAM
            name="seconds"
            help="Number of seconds for the hello time (default = 2)"
            ptype="STP_HELLO_TIME"
            >
        </PARAM>
    <ACTION builtin="clish_pyobj"> sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_global_config_hello_time ${seconds}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure the spanning-tree hello time value.
        </DESCRIPTION>
        <USAGE>
            This command allow configuring the hello interval in secs for transmission of bpdus (default = 2), range 1-10.
        </USAGE>
        <EXAMPLE>
            sonic(config)# spanning-tree hello-time 3
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree max-age"
        help="Set the max age time for the spanning tree"
        ptype="SUBCOMMAND"
        mode="subcommand"
        >
        <PARAM
            name="seconds"
            help="Number of seconds for the max age time (default = 20)"
            ptype="STP_MAX_AGE"
            >
        </PARAM>
    <ACTION builtin="clish_pyobj"> sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_global_config_max_age ${seconds}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure the spanning-tree max-age time value.
        </DESCRIPTION>
        <USAGE>
            This command allows configuring the maximum time to listen for root bridge in seconds (default = 20), range 6-40.
        </USAGE>
        <EXAMPLE>
            sonic(config)# spanning-tree max-age 22
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree priority"
        help="Set the priority for the spanning tree"
        ptype="SUBCOMMAND"
        mode="subcommand"
        >
        <PARAM
            name="value"
            help="priority in the increments of 4096 (default = 32768)"
            ptype="STP_PRIORITY"
            >
        </PARAM>
    <ACTION builtin="clish_pyobj"> sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_global_config_bridge_priority ${value}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure the global level spanning-tree bridge priority value.
        </DESCRIPTION>
        <USAGE>
            This command allows configuring the bridge priority in increments of 4096, range 0-61440
        </USAGE>
        <EXAMPLE>
            sonic(config)# spanning-tree priority 4096
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <!-- no spanning tree -->

    <COMMAND
        name="no spanning-tree"
        help="Unconfigure spanning tree"
        >
    </COMMAND>

    <COMMAND
        name="no spanning-tree edge-port"
        help="Unconfigure spanning tree edge port"
        >
        <PARAM
            name="bpdufilter"
            help="BPDUF filter"
            ptype="SUBCOMMAND"
            mode="subcommand"
            >
            <PARAM
                name="default"
                help="Default disable"
                ptype="SUBCOMMAND"
                mode="subcommand"
            >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj"> sonic_cli_stp patch_openconfig_spanning_tree_stp_global_config_bpdu_filter False&#xA;
    </ACTION>
    </COMMAND>

    <COMMAND
        name="no spanning-tree mode"
        help="Unconfigure spanning tree"
        >
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp delete_openconfig_spanning_tree_stp_global_config_enabled_protocol
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Disable global spanning-tree mode for the device
        </DESCRIPTION>
        <USAGE>
            This command allows disabling the spanning-tree mode for the device.
        </USAGE>
        <EXAMPLE>
            sonic(config)#no spanning-tree mode
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree vlan"
        help="Unconfigure spanning tree on VLAN"
        >
        <PARAM
            name="vlan-range"
            help=""
            ptype="STP_VLAN_ID"
            >
        </PARAM>
            <PARAM
                name="stp-vlan-subcmds"
                help="spannig tree subcommands"
                ptype="SUBCOMMAND"
                mode="switch"
                optional="true"
                >
                <PARAM
                    name="forward-time"
                    help="Unset the forward time for the spanning tree"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                </PARAM>
                <PARAM
                    name="hello-time"
                    help="Unset the forward time for the spanning tree"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                </PARAM>

                <PARAM
                    name="max-age"
                    help="Unset the max age time for the spanning tree"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                </PARAM>

                <PARAM
                    name="priority"
                    help="Unset the priority for the spanning tree"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                </PARAM>
            </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp delete_stp_vlan_subcmds ${stp-vlan-subcmds} ${vlan-range}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure spanning-tree parameters on per VLAN basis
        </DESCRIPTION>
        <USAGE>
            These commands are similar to the global level commands but allow disabling the spanning-tree parameters on per VLAN basis.
        </USAGE>
        <EXAMPLE>
            sonic(config)#no spanning-tree vlan 100  
            sonic(config)#no spanning-tree vlan 100 forward-time
            sonic(config)#no spanning-tree vlan 100 hello-time
            sonic(config)#no spanning-tree vlan 100 max-age 
            sonic(config)#no spanning-tree vlan 100 priority
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree forward-time"
        help="Unset the forward time for the spanning tree"
        ptype="SUBCOMMAND"
        mode="subcommand"
        >
    <ACTION builtin="clish_pyobj"> sonic_cli_stp delete_openconfig_spanning_tree_ext_stp_global_config_forwarding_delay&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Remove the spanning-tree forward delay time configuration
        </DESCRIPTION>
        <USAGE>
            This command allows resetting the forward delay time to default value
        </USAGE>
        <EXAMPLE>
            sonic(config)# no spanning-tree forward-time
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree guard"
        help="Unset the spanning tree guard"
        ptype="SUBCOMMAND" mode="subcommand"
        >
        <PARAM
            name="root"
            help="Unser root guard"
            ptype="SUBCOMMAND" mode="subcommand"
            >
            <PARAM
                name="timeout"
                help="Unset root guard timeout"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj"> sonic_cli_stp delete_openconfig_spanning_tree_ext_stp_global_config_rootguard_timeout&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Remove the spanning-tree root guard timeout.
        </DESCRIPTION>
        <USAGE>
            This command allows resetting the root guard timeout value. 
        </USAGE>
        <EXAMPLE>
            sonic(config)# no spanning-tree guard root timeout
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree hello-time"
        help="Unset the hello time for the spanning tree"
        ptype="SUBCOMMAND"
        mode="subcommand"
        >
    <ACTION builtin="clish_pyobj"> sonic_cli_stp delete_openconfig_spanning_tree_ext_stp_global_config_hello_time&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Remove the spanning-tree hello time configuration.
        </DESCRIPTION>
        <USAGE>
            This command allows resetting the hello interval configuration.
        </USAGE>
        <EXAMPLE>
            sonic(config)#no spanning-tree hello-time
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree max-age"
        help="Set the max age time for the spanning tree"
        ptype="SUBCOMMAND"
        mode="subcommand"
        >
    <ACTION builtin="clish_pyobj"> sonic_cli_stp delete_openconfig_spanning_tree_ext_stp_global_config_max_age&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Remove the spanning-tree max-age time value.
        </DESCRIPTION>
        <USAGE>
            This command allows resetting the max age configuration.
        </USAGE>
        <EXAMPLE>
            sonic(config)#no spanning-tree max-age
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree priority"
        help="Unset the priority for the spanning tree"
        ptype="SUBCOMMAND"
        mode="subcommand"
        >
    <ACTION builtin="clish_pyobj"> sonic_cli_stp delete_openconfig_spanning_tree_ext_stp_global_config_bridge_priority&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Remove the global level spanning-tree bridge priority value.
        </DESCRIPTION>
        <USAGE>
            This command allows resetting the bridge priority to default value
        </USAGE>
        <EXAMPLE>
            sonic(config)#no spanning-tree priority
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

</VIEW>


<!-- Config interface mode -->
<VIEW name="configure-if-view">
    <COMMAND
        name="spanning-tree"
        help = "Configure spanning tree on interface"
        >
        <PARAM
            name="stp-if-subcmds"
            help="spannig tree interface subcommands"
            ptype="SUBCOMMAND"
            mode="switch"
            >
            <PARAM
                name="bpduguard"
                help="Enables bpdu guard on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="port-shutdown"
                    help="Enable port shutdown on bpdu guard violation"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    optional="true"
                    >
                </PARAM>
            </PARAM>
            <PARAM
                name="cost"
                help="Set the port level cost"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="value"
                    help="Port cost value"
                    ptype="STP_COST"
                    >
                </PARAM>
            </PARAM>
            <PARAM
                name="enable"
                help="Enables spanning-tree on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
            <PARAM
                name="link-type"
                help="Set link type of the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="link-sub-cmds"
                    help = "link type sub commands."
                    ptype="SUBCOMMAND"
                    mode="switch"
                    >
                    <PARAM
                        name="point-to-point"
                        help = "link type of given interface is point-to-point."
                        ptype="SUBCOMMAND"
                        mode="subcommand"
                        >
                    </PARAM>
                    <PARAM
                        name="shared"
                        help = "link type of given interface is shared."
                        ptype="SUBCOMMAND"
                        mode="subcommand"
                        >
                    </PARAM>
                </PARAM>
            </PARAM>
            <PARAM
                name="portfast"
                help="Enables portfast on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>

            <PARAM
                name="port-priority"
                help="Set the port level priority"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="value"
                    help="Port priority value"
                    ptype="STP_PORT_PRIORITY"
                    >
                </PARAM>
            </PARAM>

            <PARAM
                name="port"
                help="Set Spanning tree port"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="type"
                    help="Spanning Tree port type"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="edge"
                        help="Edge port"
                        ptype="SUBCOMMAND"
                        mode="subcommand"
                        >
                    </PARAM>
                </PARAM>
            </PARAM>

        <PARAM
            name="uplinkfast"
            help="Enables uplink fast on the interface"
            ptype="SUBCOMMAND"
            mode="subcommand"
            >
        </PARAM>
    </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp config_stp_if_subcmds ${stp-if-subcmds} ${iface} ${value} ${port-shutdown} ${link-sub-cmds} ${edge}
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure interface specific spanning-tree parameters.
        </DESCRIPTION>
        <USAGE>
            These commands allow configuring interface specific spanning-tree parameters
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface Ethernet 0
            sonic(conf-if-Ethernet0)# spanning-tree bpduguard port-shutdown
            sonic(conf-if-Ethernet0)# spanning-tree cost 1000
            sonic(conf-if-Ethernet0)# spanning-tree enable
            sonic(conf-if-Ethernet0)# spanning-tree portfast
            sonic(conf-if-Ethernet0)# spanning-tree port-priority 16
            sonic(conf-if-Ethernet0)# spanning-tree uplinkfast 
            sonic(conf-if-Ethernet0)# spanning-tree link-type point-to-point
            sonic(conf-if-Ethernet0)# spanning-tree port type edge
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree bpdufilter"
        help="Spanning-tree BPDU filter on the interface"
        >
        <PARAM
            name="bpdufilt_sub_cmds"
            help="Spanning-tree BPDU filter subcommands"
            ptype="SUBCOMMAND"
            mode="switch"
            >
            <PARAM
                name="enable"
                help="Enables spanning-tree BPDU filter on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
            <PARAM
                name="disable"
                help="Disable spanning-tree BPDU filter on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp config_stp_if_bpdu_filter ${bpdufilt_sub_cmds} ${iface}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure interface specific bpdu-filter parameters.
        </DESCRIPTION>
        <USAGE>
            These commands allow configuring interface specific bpdu-filter parameters
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface Ethernet 0
            sonic(conf-if-Ethernet0)# spanning-tree bpdufilter enable
            sonic(conf-if-Ethernet0)# spanning-tree bpdufilter disable
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree guard"
        help = "Configure spanning tree guard on interface"
        >
        <PARAM
            name="root"
            help="Enables root guard on interface"
            ptype="SUBCOMMAND"
            mode="subcommand"
            >
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp patch_openconfig_spanning_tree_stp_interfaces_interface_config_guard ${iface}
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure interface specific guard root parameters.
        </DESCRIPTION>
        <USAGE>
            This commands allows enabling guard root on an interface
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface Ethernet 0
            sonic(conf-if-Ethernet0)# spanning-tree guard root 
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree vlan"
        help = "Configure spanning tree on interface for VLAN"
        >
        <PARAM
            name="vlan-range"
            help=""
            ptype="STP_VLAN_ID"
            >
        </PARAM>

            <PARAM
                name="stp-if-vlan-subcmds"
                help="spanning tree interface VLAN subcommands"
                ptype="SUBCOMMAND" mode="switch"
                >
                <PARAM
                    name="cost"
                    help="Set the port level cost value for VLAN"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="value"
                        help="Cost value"
                        ptype="STP_COST"
                        >
                    </PARAM>

                </PARAM>

                <PARAM
                    name="port-priority"
                    help="Set the port level priority value for a VLAN"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="value"
                        help="Priority value"
                        ptype="STP_PORT_PRIORITY"
                        >
                    </PARAM>
                </PARAM>
            </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp config_stp_if_vlan_subcmds ${stp-if-vlan-subcmds} ${vlan-range} ${iface} ${value}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure interface and vlan specific spanning-tree parameters.
        </DESCRIPTION>
        <USAGE>
            This commands allows configuring interface and vlan specific spanning-tree parameters. 
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface Ethernet 0
            sonic(conf-if-Ethernet0)# spanning-tree vlan 100 cost 1000
            sonic(conf-if-Ethernet0)# spanning-tree vlan 100 port-priority 16
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree"
        help = "Unconfigure spanning tree on interface"
        >
        <PARAM
            name="stp-if-subcmds"
            help="spannig tree interface subcommands"
            ptype="SUBCOMMAND"
            mode="switch"
            >
            <PARAM
                name="bpdufilter"
                help="if spanning-tree BPDU filter on the interface is disabled, global bpdufilter will be applied"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
            <PARAM
                name="bpduguard"
                help="Disabled bpdu guard on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>

            <PARAM
                name="cost"
                help="Unset the port level cost value for a VLAN"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>

            <PARAM
                name="enable"
                help="Disables spanning-tree on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>

            <PARAM
                name="link-type"
                help="Unset link type of the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>

            <PARAM
                name="portfast"
                help="Disables portfast on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>

            <PARAM
                name="port-priority"
                help="Reset the port level priority on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>

            <PARAM
                name="port"
                help="Unset Spanning Tree port info"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="type"
                    help="Unset port type of the interface"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                </PARAM>
            </PARAM>
            <PARAM
                name="uplinkfast"
                help="Disables uplink fast on the interface"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp delete_stp_if_subcmds ${stp-if-subcmds} ${iface} ${type}
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Unconfigure interface specific spanning-tree parameters.
        </DESCRIPTION>
        <USAGE>
            These commands allow removing interface specific spanning-tree parameters
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface Ethernet 0
            sonic(conf-if-Ethernet0)# no spanning-tree bpdufilter
            sonic(conf-if-Ethernet0)# no spanning-tree bpduguard 
            sonic(conf-if-Ethernet0)# no spanning-tree cost
            sonic(conf-if-Ethernet0)# no spanning-tree enable
            sonic(conf-if-Ethernet0)# no spanning-tree portfast
            sonic(conf-if-Ethernet0)# no spanning-tree port-priority
            sonic(conf-if-Ethernet0)# no spanning-tree uplinkfast 
            sonic(conf-if-Ethernet0)# no spanning-tree link-type
            sonic(conf-if-Ethernet0)# no spanning-tree port type
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree guard"
        help = "Unconfigure spanning tree guard on interface"
        >
        <PARAM
            name="root"
            help="Disables root guard on interface"
            ptype="SUBCOMMAND"
            mode="subcommand"
            >
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp patch_openconfig_spanning_tree_stp_interfaces_interface_config_guard ${iface} "NONE"
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Unconfigure guard root on an interface.
        </DESCRIPTION>
        <USAGE>
            This commands allows disabling guard root on an interface
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface Ethernet 0
            sonic(conf-if-Ethernet0)# no spanning-tree guard root 
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree vlan"
        help = "Unconfigure spanning tree on interface for given VLAN"
        >
        <PARAM
            name="vlan-range"
            help=""
            ptype="STP_VLAN_ID"
            >
        </PARAM>

        <PARAM
            name="stp-if-vlan-subcmds"
            help="spannig tree interface subcommands"
            ptype="SUBCOMMAND"
            mode="switch"
            >
            <PARAM
                name="cost"
                help="Unset the port level cost value for VLAN"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>

            <PARAM
                name="port-priority"
                help="Unset the port level priority value for a VLAN"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp delete_stp_if_vlan_subcmds ${stp-if-vlan-subcmds} ${vlan-range} ${iface}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Unconfigure interface and vlan specific spanning-tree parameters.
        </DESCRIPTION>
        <USAGE>
            This commands allows unconfiguring interface and vlan specific spanning-tree parameters. 
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface Ethernet 0
            sonic(conf-if-Ethernet0)# no spanning-tree vlan 100 cost
            sonic(conf-if-Ethernet0)# no spanning-tree vlan 100 port-priority
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

</VIEW>

<!-- Config lag mode -->
<VIEW name="configure-lag-view">
    <COMMAND
        name="spanning-tree"
        help = "Configure spanning tree on port-channel"
        >
    </COMMAND>

    <COMMAND 
        name="spanning-tree bpduguard" 
        help="Enables bpdu guard on the port-channel" 
        ptype="SUBCOMMAND" 
        mode="subcommand">
      <PARAM 
        name="port-shutdown" 
        help="Enable port shutdown on bpdu guard violation" 
        ptype="SUBCOMMAND" 
        mode="subcommand" 
        optional="true"> 
      </PARAM>
      <ACTION builtin="clish_pyobj">
          sonic_cli_stp config_stp_if_bpdu_guard_subcmds ${po_name} ${port-shutdown}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Configure interface specific bpdu-guard parameters.
          </DESCRIPTION>
          <USAGE>
              This commands allows enabling bpdu-guard on an interface
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# spanning-tree bpduguard port-shutdown
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND 
      name="spanning-tree cost" 
      help="Set the port level cost" 
      ptype="SUBCOMMAND" 
      mode="subcommand">
      <PARAM 
        name="value" 
        help="Port cost value" 
        ptype="STP_COST"> 
      </PARAM>
      <ACTION builtin="clish_pyobj"> 
        sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_interfaces_interface_config_cost ${po_name} ${value}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Configure spanning-tree cost on an interface.
          </DESCRIPTION>
          <USAGE>
              This command allows to configure the port level cost value, range 1 - 200000000
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# spanning-tree cost 1000
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND 
      name="spanning-tree enable" 
      help="Enables spanning-tree on the port-channel" 
      ptype="SUBCOMMAND" 
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
        sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_interfaces_interface_config_spanning_tree_enable ${po_name} True&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Configure spanning-tree on an interface.
          </DESCRIPTION>
          <USAGE>
              This command allows enabling of spanning-tree on an interface
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# spanning-tree enable
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND 
      name="spanning-tree link-type" 
      help="Set link type of the port-channel" 
      ptype="SUBCOMMAND" 
      mode="subcommand">
      <PARAM 
        name="link-sub-cmds" 
        help="link type sub commands." 
        ptype="SUBCOMMAND" 
        mode="switch">
        <PARAM 
          name="auto" 
          help="link type is set based on the duplex setting of the port-channel." 
          ptype="SUBCOMMAND" 
          mode="subcommand"> 
        </PARAM>
        <PARAM 
          name="point-to-point" 
          help="link type of given port-channel is point-to-point." 
          ptype="SUBCOMMAND" 
          mode="subcommand"> 
        </PARAM>
        <PARAM 
          name="shared" 
          help="link type of given port-channel is shared." 
          ptype="SUBCOMMAND" 
          mode="subcommand"> 
        </PARAM>
      </PARAM>
      <ACTION builtin="clish_pyobj">
          sonic_cli_stp config_stp_if_link_type_subcmds ${link-sub-cmds} ${po_name}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Configure spanning-tree link-type on an interface.
          </DESCRIPTION>
          <USAGE>
              This command allows setting the link-type of spanning-tree on an interface, link-type can be set to either point-point or shared.
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# spanning-tree link-type point-to-point 
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND 
      name="spanning-tree portfast" 
      help="Enables portfast on the port-channel" 
      ptype="SUBCOMMAND" 
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
          sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_interfaces_interface_config_portfast ${po_name} True&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Configure spanning-tree portfast on an interface.
          </DESCRIPTION>
          <USAGE>
              This command allows enabling portfast on an interface, portfast allows edge ports to move to forwarding state quickly when the connected device is not participating in spanning-tree.
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# spanning-tree portfast 
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND 
      name="spanning-tree port-priority" 
      help="Set the port level priority" 
      ptype="SUBCOMMAND" 
      mode="subcommand">
      <PARAM 
        name="value" 
        help="Port priority value" 
        ptype="STP_PORT_PRIORITY"> 
      </PARAM>
      <ACTION builtin="clish_pyobj">
          sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_interfaces_interface_config_port_priority ${po_name} ${value}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Configure spanning-tree port priority on an interface.
          </DESCRIPTION>
          <USAGE>
              This command allows setting port priority value on an interface, range 0 - 240 (default 128)
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# spanning-tree port-priority 16 
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND 
      name="spanning-tree port" 
      help="Set Spanning tree port" 
      ptype="SUBCOMMAND" 
      mode="subcommand">
      <PARAM 
        name="type" 
        help="Spanning Tree port type" 
        ptype="SUBCOMMAND" 
        mode="subcommand">
        <PARAM 
          name="edge" 
          help="Edge port" 
          ptype="SUBCOMMAND" 
          mode="subcommand"> 
        </PARAM>
      </PARAM>
      <ACTION builtin="clish_pyobj">
          sonic_cli_stp config_stp_if_edge_port ${po_name} ${edge}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Configure spanning-tree port type on an interface.
          </DESCRIPTION>
          <USAGE>
              This command allows setting edge-port type to an interface
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# spanning-tree port type edge 
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND 
      name="spanning-tree uplinkfast" 
      help="Enables uplink fast on the port-channel" 
      ptype="SUBCOMMAND" 
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
          sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_interfaces_interface_config_uplink_fast ${po_name} True&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Configure spanning-tree uplink fast on an interface.
          </DESCRIPTION>
          <USAGE>
              Uplink fast feature enhances STP performance for switches with redundant uplinks. Using the default value for the standard STP forward delay, 
              convergence following a transition from an active link to a redundant link can take 30 seconds (15 seconds for listening and an 
              additional 15 seconds for learning).

              When uplink fast is configured on the redundant uplinks, it reduces the convergence time to just one second by moving to forwarding 
              state (bypassing listening and learning modes) in just once second when the active link goes down.
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# spanning-tree uplinkfast 
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree bpdufilter"
        help="Spanning-tree BPDU filter on the port-channel"
        >
        <PARAM
            name="bpdufilt_sub_cmds"
            help="Spanning-tree BPDU filter subcommands"
            ptype="SUBCOMMAND"
            mode="switch"
            >
            <PARAM
                name="enable"
                help="Enables spanning-tree BPDU filter on the port-channel"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
            <PARAM
                name="disable"
                help="Disable spanning-tree BPDU filter on the port-channel"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp config_stp_if_bpdu_filter ${bpdufilt_sub_cmds} ${po_name}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure interface specific bpdu-filter parameters.
        </DESCRIPTION>
        <USAGE>
            These commands allow configuring interface specific bpdu-filter parameters
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface PortChannel 1
            sonic(conf-if-po1)# spanning-tree bpdufilter enable
            sonic(conf-if-po1)# spanning-tree bpdufilter disable
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree guard"
        help = "Configure spanning tree guard on port-channel"
        >
        <PARAM
            name="root"
            help="Enables root guard on port-channel"
            ptype="SUBCOMMAND"
            mode="subcommand"
            >
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp patch_openconfig_spanning_tree_stp_interfaces_interface_config_guard ${po_name}
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure interface specific guard root parameters.
        </DESCRIPTION>
        <USAGE>
            This commands allows enabling guard root on an interface
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface PortChannel 1
            sonic(conf-if-po1)# spanning-tree guard root 
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="spanning-tree vlan"
        help = "Configure spanning tree on port-channel for VLAN"
        >
        <PARAM
            name="vlan-range"
            help=""
            ptype="STP_VLAN_ID"
            >
        </PARAM>

            <PARAM
                name="stp-if-vlan-subcmds"
                help="spanning tree port-channel VLAN subcommands"
                ptype="SUBCOMMAND" mode="switch"
                >
                <PARAM
                    name="cost"
                    help="Set the port level cost value for VLAN"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="value"
                        help="Cost value"
                        ptype="STP_COST"
                        >
                    </PARAM>

                </PARAM>

                <PARAM
                    name="port-priority"
                    help="Set the port level priority value for a VLAN"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="value"
                        help="Priority value"
                        ptype="STP_PORT_PRIORITY"
                        >
                    </PARAM>
                </PARAM>
            </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp config_stp_if_vlan_subcmds ${stp-if-vlan-subcmds} ${vlan-range} ${po_name} ${value}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Configure interface and vlan specific spanning-tree parameters.
        </DESCRIPTION>
        <USAGE>
            This commands allows configuring interface and vlan specific spanning-tree parameters. 
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface PortChannel 1
            sonic(conf-if-po1)# spanning-tree vlan 100 cost 1000
            sonic(conf-if-po1)# spanning-tree vlan 100 port-priority 16
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree"
        help = "Unconfigure spanning tree on port-channel"
        >
    </COMMAND>
    <COMMAND
      name="no spanning-tree bpdufilter"
      help="if spanning-tree BPDU filter on the port-channel is disabled, global bpdufilter will be applied"
      ptype="SUBCOMMAND"
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
          sonic_cli_stp delete_openconfig_spanning_tree_stp_interfaces_interface_config_bpdu_filter ${po_name}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Unconfigure bpdufilter on a specific interface.
          </DESCRIPTION>
          <USAGE>
              This command removes the interface specific BPDU filter configuration and applies the global BPDU filter configuration.
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# no spanning-tree bpdufilter  
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
      name="no spanning-tree bpduguard"
      help="Disabled bpdu guard on the port-channel"
      ptype="SUBCOMMAND"
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
          sonic_cli_stp delete_stp_if_bpdu_guard_subcmds ${po_name}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Unconfigure bpduguard on a specific interface.
          </DESCRIPTION>
          <USAGE>
              This command removes the interface specific BPDU guard configuration.
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# no spanning-tree bpduguard 
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
      name="no spanning-tree cost"
      help="Unset the port level cost value for a VLAN"
      ptype="SUBCOMMAND"
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
        sonic_cli_stp delete_openconfig_spanning_tree_ext_stp_interfaces_interface_config_cost ${po_name}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Unconfigure spanning-tree cost on an interface.
          </DESCRIPTION>
          <USAGE>
              This command resets the port level cost value
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# no spanning-tree cost
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
      name="no spanning-tree enable"
      help="Disables spanning-tree on the port-channel"
      ptype="SUBCOMMAND"
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
        sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_interfaces_interface_config_spanning_tree_enable ${po_name} False&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Unconfigure spanning-tree on an interface.
          </DESCRIPTION>
          <USAGE>
              This command disables spanning-tree on an interface
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# no spanning-tree enable
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
      name="no spanning-tree link-type"
      help="Unset link type of the port-channel"
      ptype="SUBCOMMAND"
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
        sonic_cli_stp delete_openconfig_spanning_tree_stp_interfaces_interface_config_link_type ${po_name}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Unconfigure spanning-tree link-type on an interface.
          </DESCRIPTION>
          <USAGE>
              This command resets the link-type configuration on an interface.
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# no spanning-tree link-type  
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
      name="no spanning-tree portfast"
      help="Disables portfast on the port-channel"
      ptype="SUBCOMMAND"
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
        sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_interfaces_interface_config_portfast ${po_name} False&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Unconfigure spanning-tree portfast on an interface.
          </DESCRIPTION>
          <USAGE>
              This command disables portfast on an interface
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# no spanning-tree portfast 
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
      name="no spanning-tree port-priority"
      help="Reset the port level priority on the port-channel"
      ptype="SUBCOMMAND"
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
        sonic_cli_stp delete_openconfig_spanning_tree_ext_stp_interfaces_interface_config_port_priority ${po_name}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Unconfigure spanning-tree port priority on an interface.
          </DESCRIPTION>
          <USAGE>
              This command resets the port priority value on an interface to default value
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# no spanning-tree port-priority
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
      name="no spanning-tree uplinkfast"
      help="Disables uplink fast on the port-channel"
      ptype="SUBCOMMAND"
      mode="subcommand">
      <ACTION builtin="clish_pyobj">
        sonic_cli_stp patch_openconfig_spanning_tree_ext_stp_interfaces_interface_config_uplink_fast ${po_name} False&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Unconfigure spanning-tree uplink fast on an interface.
          </DESCRIPTION>
          <USAGE>
              This command disables uplink fast feature on an interface
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# no spanning-tree uplinkfast 
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
      name="no spanning-tree port"
      help="Unset Spanning Tree port info"
      ptype="SUBCOMMAND"
      mode="subcommand">
      <PARAM
        name="type"
        help="Unset port type of the port-channel"
        ptype="SUBCOMMAND"
        mode="subcommand"
        optional="true">
      </PARAM>
      <ACTION builtin="clish_pyobj">
        sonic_cli_stp delete_stp_if_edge_port_subcmds ${po_name} ${type}&#xA;
      </ACTION>
      <DOCGEN>
          <DESCRIPTION>
              Unonfigure spanning-tree port type on an interface.
          </DESCRIPTION>
          <USAGE>
              This command disables edge-port type configuration an interface
          </USAGE>
          <EXAMPLE>
              sonic(config)# interface PortChannel 1
              sonic(conf-if-po1)# no spanning-tree port type 
          </EXAMPLE>
      </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree guard"
        help = "Unconfigure spanning tree guard on port-channel"
        >
        <PARAM
            name="root"
            help="Disables root guard on port-channel"
            ptype="SUBCOMMAND"
            mode="subcommand"
            >
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp patch_openconfig_spanning_tree_stp_interfaces_interface_config_guard ${po_name} "NONE"
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Unonfigure interface specific guard root parameters.
        </DESCRIPTION>
        <USAGE>
            This command allows disabling guard root on an interface
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface PortChannel 1
            sonic(conf-if-po1)# no spanning-tree guard root 
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

    <COMMAND
        name="no spanning-tree vlan"
        help = "Unconfigure spanning tree on port-channel for given VLAN"
        >
        <PARAM
            name="vlan-range"
            help=""
            ptype="STP_VLAN_ID"
            >
        </PARAM>

        <PARAM
            name="stp-if-vlan-subcmds"
            help="spannig tree port-channel subcommands"
            ptype="SUBCOMMAND"
            mode="switch"
            >
            <PARAM
                name="cost"
                help="Unset the port level cost value for VLAN"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>

            <PARAM
                name="port-priority"
                help="Unset the port level priority value for a VLAN"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
            </PARAM>
        </PARAM>
    <ACTION builtin="clish_pyobj">
        sonic_cli_stp delete_stp_if_vlan_subcmds ${stp-if-vlan-subcmds} ${vlan-range} ${po_name}&#xA;
    </ACTION>
    <DOCGEN>
        <DESCRIPTION>
            Unconfigure interface and vlan specific spanning-tree parameters.
        </DESCRIPTION>
        <USAGE>
            This commands removes interface and vlan specific spanning-tree parameters and sets to default value 
        </USAGE>
        <EXAMPLE>
            sonic(config)# interface PortChannel 1
            sonic(conf-if-po1)# no spanning-tree vlan 100 cost 
            sonic(conf-if-po1)# no spanning-tree vlan 100 port-priority 
        </EXAMPLE>
    </DOCGEN>
    </COMMAND>

</VIEW>

</CLISH_MODULE>
